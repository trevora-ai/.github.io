<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Window & Patio Door Replacement | Residential Home Solutions">
    <title>Windows & Patio Doors | Residential Home Solutions</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Merriweather:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" type="image/x-icon" href="images/favicon.ico">
    <style>
        /* Additional styles for the dropdowns and logos */
        .provider-logo-container {
            background-color: white;
            padding: 20px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            height: 180px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
        }
        
        .provider-logo {
            max-width: 200px;
            max-height: 100px;
            width: auto;
            height: auto;
            object-fit: contain;
        }
        
        .learn-more-dropdown {
            position: relative;
            display: inline-block;
        }
        
        .learn-more-dropdown-content {
            display: none;
            position: absolute;
            background-color: var(--white);
            min-width: 250px;
            box-shadow: var(--shadow-hover);
            z-index: 1000;
            border-radius: var(--radius);
            padding: 15px 0;
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.3s ease;
        }
        
        .learn-more-dropdown:hover .learn-more-dropdown-content {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }
        
        .learn-more-dropdown-content a {
            color: var(--dark);
            padding: 12px 20px;
            text-decoration: none;
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: var(--transition);
        }
        
        .learn-more-dropdown-content a:hover {
            background-color: rgba(0, 51, 102, 0.05);
            color: var(--secondary);
        }
        
        .learn-more-dropdown-content a i {
            color: var(--primary);
            font-size: 0.9rem;
        }
        
        .window-type-dropdown {
            position: relative;
            display: inline-block;
            width: 100%;
        }
        
        .window-type-content {
            display: none;
            position: absolute;
            background-color: var(--white);
            min-width: 280px;
            box-shadow: var(--shadow-hover);
            z-index: 1000;
            border-radius: var(--radius);
            padding: 15px 0;
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.3s ease;
            left: 0;
            top: 100%;
        }
        
        .window-type-dropdown:hover .window-type-content {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }
        
        .window-type-item {
            padding: 12px 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            transition: var(--transition);
            cursor: pointer;
        }
        
        .window-type-item:hover {
            background-color: rgba(0, 51, 102, 0.05);
        }
        
        .window-type-icon {
            width: 40px;
            height: 40px;
            background-color: rgba(0, 51, 102, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-size: 1.2rem;
        }
        
        .window-type-info {
            flex: 1;
        }
        
        .window-type-info h6 {
            margin: 0;
            color: var(--primary);
            font-weight: 600;
        }
        
        .window-type-info p {
            margin: 0;
            font-size: 0.85rem;
            color: var(--gray);
        }
        
        .gallery-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: var(--primary);
            font-weight: 500;
            margin-top: 15px;
        }
        
        .gallery-link:hover {
            color: var(--secondary);
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            .provider-card {
                grid-template-columns: 1fr !important;
                gap: 20px !important;
            }
            
            .provider-logo-container {
                height: 150px;
            }
            
            .provider-logo {
                max-width: 180px;
                max-height: 80px;
            }
            
            .learn-more-dropdown-content,
            .window-type-content {
                position: static;
                opacity: 1;
                transform: none;
                box-shadow: none;
                display: none;
                width: 100%;
            }
            
            .learn-more-dropdown:hover .learn-more-dropdown-content,
            .window-type-dropdown:hover .window-type-content {
                display: block;
            }
        }

        /* ===== GALLERY STYLES (matching gallery-infinity.html) ===== */
        .gallery-header {
            text-align: center;
            margin-bottom: 50px;
        }
        
        .gallery-header h2 {
            color: var(--primary);
            margin-bottom: 15px;
        }
        
        .gallery-filters {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 40px;
        }
        
        .filter-btn {
            padding: 10px 20px;
            background-color: var(--white);
            border: 2px solid var(--light-gray);
            border-radius: 30px;
            font-weight: 600;
            color: var(--dark);
            cursor: pointer;
            transition: var(--transition);
        }
        
        .filter-btn:hover,
        .filter-btn.active {
            background-color: var(--primary);
            color: var(--white);
            border-color: var(--primary);
        }
        
        /* Masonry Grid Layout */
        .masonry-grid {
            columns: 4 300px;
            column-gap: 20px;
        }
        
        .masonry-item {
            break-inside: avoid;
            margin-bottom: 20px;
            position: relative;
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            background-color: var(--white);
            cursor: pointer;
        }
        
        .masonry-item:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
        }
        
        .masonry-img {
            width: 100%;
            height: auto;
            display: block;
            transition: transform 0.5s ease;
        }
        
        .masonry-item:hover .masonry-img {
            transform: scale(1.03);
        }
        
        .masonry-caption {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
            color: var(--white);
            padding: 20px;
            transform: translateY(100%);
            transition: transform 0.3s ease;
        }
        
        .masonry-item:hover .masonry-caption {
            transform: translateY(0);
        }
        
        .masonry-caption h4 {
            color: var(--white);
            margin-bottom: 5px;
            font-size: 1.2rem;
        }
        
        .masonry-category {
            display: inline-block;
            background-color: var(--secondary);
            color: var(--white);
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-bottom: 10px;
        }
        
        /* Lightbox Modal */
        .lightbox-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }
        
        .lightbox-modal.active {
            display: flex;
        }
        
        .lightbox-content {
            max-width: 90%;
            max-height: 90%;
            position: relative;
        }
        
        .lightbox-img {
            max-width: 100%;
            max-height: 90vh;
            object-fit: contain;
            border-radius: var(--radius);
        }
        
        .lightbox-caption {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.7);
            color: var(--white);
            padding: 20px;
            text-align: center;
        }
        
        .lightbox-close {
            position: absolute;
            top: -40px;
            right: 0;
            background: none;
            border: none;
            color: var(--white);
            font-size: 2rem;
            cursor: pointer;
        }
        
        .lightbox-nav {
            position: absolute;
            top: 50%;
            width: 100%;
            display: flex;
            justify-content: space-between;
            padding: 0 20px;
            transform: translateY(-50%);
        }
        
        .lightbox-nav button {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: var(--white);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.5rem;
            transition: var(--transition);
        }
        
        .lightbox-nav button:hover {
            background: var(--secondary);
        }
        
        .no-results {
            text-align: center;
            padding: 60px 20px;
            background-color: var(--white);
            border-radius: var(--radius);
            border: 2px dashed var(--light-gray);
            grid-column: 1 / -1;
        }
        
        .no-results i {
            font-size: 3rem;
            color: var(--light-gray);
            margin-bottom: 20px;
        }
        
        .back-to-products {
            text-align: center;
            margin: 50px 0 20px;
        }

        /* Additional brand/gallery adjustments */
        .brand-logo-header {
            max-width: 300px;
            height: auto;
            margin: 0 auto 30px;
            display: block;
        }
        
        @media (max-width: 1200px) {
            .masonry-grid {
                columns: 3 280px;
            }
        }
        
        @media (max-width: 992px) {
            .masonry-grid {
                columns: 2 300px;
            }
        }
        
        @media (max-width: 768px) {
            .masonry-grid {
                columns: 1 400px;
            }
            
            .gallery-filters {
                justify-content: flex-start;
                overflow-x: auto;
                padding-bottom: 10px;
            }
            
            .filter-btn {
                white-space: nowrap;
                padding: 8px 16px;
                font-size: 0.9rem;
            }
        }
        
        @media (max-width: 576px) {
            .masonry-grid {
                columns: 1;
            }
            
            .lightbox-nav button {
                width: 40px;
                height: 40px;
                font-size: 1.2rem;
            }
        }
        /* ===== END GALLERY STYLES ===== */
    </style>
</head>
<body>
    <!-- Header & Navigation -->
   <header class="header">
    <div class="container">
        <nav class="navbar">
            <a href="index.html" class="logo">
                <img src="images/logo.png" alt="Residential Home Solutions Logo" width="320" height="90">
            </a>
            <button class="menu-toggle" id="menuToggle" aria-label="Toggle navigation menu">
                <i class="fas fa-bars"></i>
            </button>
            <ul class="nav-menu" id="navMenu">
                <li><a href="index.html">Home</a></li>
                <li class="dropdown">
                    <a href="#services" class="dropdown-toggle">
                        Services <i class="fas fa-chevron-down"></i>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="windows-patio-doors.html">Windows & Patio Doors</a></li>
                        <li><a href="entry-storm-doors.html">Entry & Storm Doors</a></li>
                        <li><a href="siding.html">Siding</a></li>
                        <li><a href="service.html">Service Request</a></li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="#services" class="dropdown-toggle">
                        Offers <i class="fas fa-chevron-down"></i>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="promotions.html">Promotions</a></li>
                        <li><a href="financing.html">Financing</a></li>
                        <li><a href="rebates.html">Rebates</a></li>
                    </ul> 
                </li>
                <li><a href="about.html" class="active">About</a></li>
                <li><a href="testimonials.html">Testimonials</a></li>
                <li><a href="contact.html" class="nav-cta">Free Quote</a></li>
            </ul>
            <div class="hardie-header-logo">
               <img src="images/infinitylogo.png" alt="InfinitybyMarvin Contractor" class="partner-logo-img">
            </div>
        </nav>
    </div>
</header>

    <!-- Page Header -->
    <section class="page-header" style="background-color: var(--light); padding: 180px 0 80px;">
        <div class="container">
            <div class="section-header">
                <h1 class="section-title">Windows & Patio Doors</h1>
                <p class="section-subtitle">Premium window solutions featuring Infinity by Marvin, ProVia, Coeur d'Alene Window, and VPI Quality Windows</p>
            </div>
        </div>
    </section>

    <!-- Service Content -->
    <section class="services-detail" style="padding: 60px 0;">
        <div class="container">
            <div class="service-detail-card">
                <div class="service-detail-header">
                    <div class="service-icon-large">
                        <i class="fas fa-window-maximize"></i>
                    </div>
                    <h2>Premium Window & Patio Door Solutions</h2>
                    <p class="service-tagline">Featuring the region's finest window manufacturers for superior performance and beauty</p>
                </div>
                
                <div class="service-detail-content" style="max-width: 1200px; margin: 0 auto;">
                    <h3>Transform Your Home with Expert Window Solutions</h3>
                    <p>At Residential Home Solutions, we partner with the Pacific Northwest's leading window manufacturers to bring you exceptional quality, energy efficiency, and durability. Each product line is selected for its ability to withstand our unique climate challenges while enhancing your home's comfort and value.</p>
                    
                    <!-- Window Provider Introduction -->
                    <div style="background-color: rgba(128, 22, 204, 0.05); padding: 30px; border-radius: var(--radius); margin: 40px 0;">
                        <h4 style="color: var(--primary); margin-bottom: 15px;">Why Choose Our Window Partners?</h4>
                        <p>We carefully select window manufacturers based on quality craftsmanship, energy efficiency, and local availability. As your trusted window experts, we provide:</p>
                        <ul style="columns: 2; column-gap: 40px; margin-top: 20px;">
                            <li><i class="fas fa-check-circle" style="color: #27ae60;"></i> Energy Star Certified products</li>
                            <li><i class="fas fa-check-circle" style="color: #27ae60;"></i> Local manufacturing when available</li>
                            <li><i class="fas fa-check-circle" style="color: #27ae60;"></i> Custom sizing and configurations</li>
                            <li><i class="fas fa-check-circle" style="color: #27ae60;"></i> Industry-leading warranties</li>
                            <li><i class="fas fa-check-circle" style="color: #27ae60;"></i> Professional installation</li>
                            <li><i class="fas fa-check-circle" style="color: #27ae60;"></i> Lifetime service support</li>
                        </ul>
                    </div>
                    
                    <!-- Window Provider Showcase -->
                    <div style="margin: 50px 0;">
                        <h3 style="text-align: center; margin-bottom: 40px;">Our Premium Window Partners</h3>
                        
                        <!-- Infinity by Marvin -->
                        <div class="provider-card" style="display: grid; grid-template-columns: 300px 1fr; gap: 40px; margin-bottom: 60px; padding: 30px; background-color: var(--light); border-radius: var(--radius); align-items: center;">
                            <div>
                                <div class="provider-logo-container">
                                    <img src="images/infinitylogo.png" alt="Infinity by Marvin" class="provider-logo">
                                </div>
                                <a href="gallery-infinity.html" class="gallery-link">
                                    <i class="fas fa-images"></i> View Infinity Gallery
                                </a>
                            </div>
                            <div>
                                <h4 style="color: var(--primary); margin-bottom: 15px;">Infinity by Marvin</h4>
                                <p>Infinity by Marvin offers the ultimate in replacement window technology with their innovative fiberglass construction. These windows provide exceptional durability, energy efficiency, and low maintenance.</p>
                                
                                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin: 20px 0;">
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <i class="fas fa-leaf" style="color: #27ae60;"></i>
                                        <span>Superior Energy Efficiency</span>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <i class="fas fa-shield-alt" style="color: var(--primary);"></i>
                                        <span>Extremely Durable</span>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <i class="fas fa-palette" style="color: var(--secondary);"></i>
                                        <span>Custom Color Options</span>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <i class="fas fa-certificate" style="color: var(--primary);"></i>
                                        <span>Lifetime Warranty</span>
                                    </div>
                                </div>
                                
                                <div style="margin-top: 20px;" class="learn-more-dropdown">
                                    <a href="https://www.infinitywindows.com/" target="_blank" class="btn btn-primary" style="display: inline-flex; align-items: center; gap: 10px;">
                                        <i class="fas fa-external-link-alt"></i> Learn More About Infinity Windows
                                    </a>
                                    <div class="learn-more-dropdown-content">
                                        <a href="gallery-infinity.html#double-hung">
                                            <span>Double-Hung Windows</span>
                                            <i class="fas fa-chevron-right"></i>
                                        </a>
                                        <a href="gallery-infinity.html#casement">
                                            <span>Casement Windows</span>
                                            <i class="fas fa-chevron-right"></i>
                                        </a>
                                        <a href="gallery-infinity.html#sliding">
                                            <span>Sliding Windows</span>
                                            <i class="fas fa-chevron-right"></i>
                                        </a>
                                        <a href="gallery-infinity.html#patio-doors">
                                            <span>Patio Doors</span>
                                            <i class="fas fa-chevron-right"></i>
                                        </a>
                                        <a href="gallery-infinity.html">
                                            <span>View All Products</span>
                                            <i class="fas fa-images"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- ProVia Windows -->
                        <div class="provider-card" style="display: grid; grid-template-columns: 300px 1fr; gap: 40px; margin-bottom: 60px; padding: 30px; background-color: var(--light); border-radius: var(--radius); align-items: center;">
                            <div>
                                <div class="provider-logo-container">
                                    <img src="images/provialogo.png" alt="ProVia Windows" class="provider-logo">
                                </div>
                                <a href="gallery-provia.html" class="gallery-link">
                                    <i class="fas fa-images"></i> View ProVia Gallery
                                </a>
                            </div>
                            <div>
                                <h4 style="color: var(--primary); margin-bottom: 15px;">ProVia Windows & Doors</h4>
                                <p>ProVia offers comprehensive solutions with both windows and doors. Their products are engineered with precision and built to perform, featuring exceptional energy efficiency and durability for Spokane Valley homes.</p>
                                
                                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin: 20px 0;">
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <i class="fas fa-snowflake" style="color: #3498db;"></i>
                                        <span>Excellent Insulation</span>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <i class="fas fa-tools" style="color: var(--dark);"></i>
                                        <span>Custom Manufacturing</span>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <i class="fas fa-wind" style="color: #2ecc71;"></i>
                                        <span>Weather Resistant</span>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <i class="fas fa-eye" style="color: var(--primary);"></i>
                                        <span>Beautiful Designs</span>
                                    </div>
                                </div>
                                
                                <div style="margin-top: 20px;" class="learn-more-dropdown">
                                    <a href="https://www.provia.com/windows/" target="_blank" class="btn btn-primary" style="display: inline-flex; align-items: center; gap: 10px;">
                                        <i class="fas fa-external-link-alt"></i> Explore ProVia Products
                                    </a>
                                    <div class="learn-more-dropdown-content">
                                        <a href="gallery-provia.html#windows">
                                            <span>Windows</span>
                                            <i class="fas fa-window-maximize"></i>
                                        </a>
                                        <a href="entry-storm-doors.html#provia">
                                            <span>Entry Doors</span>
                                            <i class="fas fa-door-open"></i>
                                        </a>
                                        <a href="entry-storm-doors.html#storm-doors">
                                            <span>Storm Doors</span>
                                            <i class="fas fa-wind"></i>
                                        </a>
                                        <a href="gallery-provia.html#patio-doors">
                                            <span>Patio Doors</span>
                                            <i class="fas fa-glass-martini-alt"></i>
                                        </a>
                                        <a href="gallery-provia.html">
                                            <span>View All Products</span>
                                            <i class="fas fa-images"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Coeur d'Alene Window -->
                        <div class="provider-card" style="display: grid; grid-template-columns: 300px 1fr; gap: 40px; margin-bottom: 60px; padding: 30px; background-color: var(--light); border-radius: var(--radius); align-items: center;">
                            <div>
                                <div class="provider-logo-container">
                                    <img src="images/cdalogo.png" alt="Coeur d'Alene Window" class="provider-logo">
                                </div>
                                <a href="gallery-cda.html" class="gallery-link">
                                    <i class="fas fa-images"></i> View CDA Gallery
                                </a>
                            </div>
                            <div>
                                <h4 style="color: var(--primary); margin-bottom: 15px;">Coeur d'Alene Window Company</h4>
                                <p>Coeur d'Alene Window Company represents the best of local Pacific Northwest craftsmanship. Their windows are specifically designed for our regional climate and built to withstand the unique weather challenges of Eastern Washington and Northern Idaho.</p>
                                
                                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin: 20px 0;">
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <i class="fas fa-home" style="color: #e74c3c;"></i>
                                        <span>Local Manufacturing</span>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <i class="fas fa-cloud-sun" style="color: #f39c12;"></i>
                                        <span>Climate-Specific Design</span>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <i class="fas fa-truck" style="color: #3498db;"></i>
                                        <span>Quick Local Delivery</span>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <i class="fas fa-users" style="color: var(--primary);"></i>
                                        <span>Local Support Team</span>
                                    </div>
                                </div>
                                
                                <div style="margin-top: 20px;" class="learn-more-dropdown">
                                    <a href="https://www.coeurdalenewindow.com/" target="_blank" class="btn btn-primary" style="display: inline-flex; align-items: center; gap: 10px;">
                                        <i class="fas fa-external-link-alt"></i> Discover CDA Windows
                                    </a>
                                    <div class="learn-more-dropdown-content">
                                        <a href="gallery-cda.html#single-hung">
                                            <span>Single-Hung Windows</span>
                                            <i class="fas fa-chevron-right"></i>
                                        </a>
                                        <a href="gallery-cda.html#double-hung">
                                            <span>Double-Hung Windows</span>
                                            <i class="fas fa-chevron-right"></i>
                                        </a>
                                        <a href="gallery-cda.html#picture">
                                            <span>Picture Windows</span>
                                            <i class="fas fa-chevron-right"></i>
                                        </a>
                                        <a href="gallery-cda.html#custom">
                                            <span>Custom Windows</span>
                                            <i class="fas fa-chevron-right"></i>
                                        </a>
                                        <a href="gallery-cda.html">
                                            <span>View All Products</span>
                                            <i class="fas fa-images"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- VPI Quality Windows -->
                        <div class="provider-card" style="display: grid; grid-template-columns: 300px 1fr; gap: 40px; margin-bottom: 60px; padding: 30px; background-color: var(--light); border-radius: var(--radius); align-items: center;">
                            <div>
                                <div class="provider-logo-container">
                                    <img src="images/vpilogo.png" alt="VPI Quality Windows" class="provider-logo">
                                </div>
                                <a href="gallery-vpi.html" class="gallery-link">
                                    <i class="fas fa-images"></i> View VPI Gallery
                                </a>
                            </div>
                            <div>
                                <h4 style="color: var(--primary); margin-bottom: 15px;">VPI Quality Windows</h4>
                                <p>VPI Quality Windows offers superior engineering and construction designed for long-term performance. Their windows feature innovative technologies that provide exceptional energy efficiency, security, and durability for Pacific Northwest homes.</p>
                                
                                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin: 20px 0;">
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <i class="fas fa-bolt" style="color: #f1c40f;"></i>
                                        <span>Advanced Energy Tech</span>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <i class="fas fa-lock" style="color: var(--dark);"></i>
                                        <span>Enhanced Security</span>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <i class="fas fa-hourglass-half" style="color: #e74c3c;"></i>
                                        <span>Long-Lasting Quality</span>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <i class="fas fa-cogs" style="color: var(--primary);"></i>
                                        <span>Precision Engineering</span>
                                    </div>
                                </div>
                                
                                <div style="margin-top: 20px;" class="learn-more-dropdown">
                                    <a href="https://www.vpiqualitywindows.com/windows" target="_blank" class="btn btn-primary" style="display: inline-flex; align-items: center; gap: 10px;">
                                        <i class="fas fa-external-link-alt"></i> View VPI Quality Windows
                                    </a>
                                    <div class="learn-more-dropdown-content">
                                        <a href="gallery-vpi.html#double-hung">
                                            <span>Double-Hung Windows</span>
                                            <i class="fas fa-chevron-right"></i>
                                        </a>
                                        <a href="gallery-vpi.html#casement">
                                            <span>Casement Windows</span>
                                            <i class="fas fa-chevron-right"></i>
                                        </a>
                                        <a href="gallery-vpi.html#awning">
                                            <span>Awning Windows</span>
                                            <i class="fas fa-chevron-right"></i>
                                        </a>
                                        <a href="gallery-vpi.html#sliding">
                                            <span>Sliding Windows</span>
                                            <i class="fas fa-chevron-right"></i>
                                        </a>
                                        <a href="gallery-vpi.html">
                                            <span>View All Products</span>
                                            <i class="fas fa-images"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ===== UPDATED GALLERY SECTION â€“ MASONRY + LIGHTBOX (like Infinity) ===== -->
                    <div style="margin: 80px 0 40px;">
                        <div class="gallery-header">
                            <h2 class="section-title">Window & Patio Door Project Gallery</h2>
                            <p class="section-subtitle">Browse our installations featuring Infinity by Marvin, ProVia, Coeur d'Alene, and VPI. Click any image to enlarge.</p>
                        </div>
                        
                        <!-- Filter Buttons -->
                        <div class="gallery-filters">
                            <button class="filter-btn active" data-filter="all">All Products</button>
                            <button class="filter-btn" data-filter="infinity">Infinity by Marvin</button>
                            <button class="filter-btn" data-filter="provia">ProVia</button>
                            <button class="filter-btn" data-filter="cda">Coeur d'Alene</button>
                            <button class="filter-btn" data-filter="vpi">VPI</button>
                            <button class="filter-btn" data-filter="patio-door">Patio Doors</button>
                        </div>
                        
                        <!-- Masonry Grid -->
                        <div class="masonry-grid" id="masonryGrid">
                            <!-- INFINITY -->
                            <div class="masonry-item" data-category="infinity" data-index="0">
                                <img src="images/infinity/infinity-double-hung.jpg" alt="Infinity Double-Hung Window" class="masonry-img" onerror="this.src='https://placehold.co/600x400/8016cc/white?text=Infinity+Double+Hung';">
                                <div class="masonry-caption">
                                    <span class="masonry-category">Infinity</span>
                                    <h4>Double-Hung Window</h4>
                                    <p>Classic design, energy-efficient fiberglass</p>
                                </div>
                            </div>
                            <div class="masonry-item" data-category="infinity" data-index="1">
                                <img src="images/infinity/infinity-casement.jpg" alt="Infinity Casement Window" class="masonry-img" onerror="this.src='https://placehold.co/600x400/8016cc/white?text=Infinity+Casement';">
                                <div class="masonry-caption">
                                    <span class="masonry-category">Infinity</span>
                                    <h4>Casement Window</h4>
                                    <p>Crank-out operation, superior ventilation</p>
                                </div>
                            </div>
                            <div class="masonry-item" data-category="infinity patio-door" data-index="2">
                                <img src="images/infinity/infinity-patio-door.jpg" alt="Infinity Patio Door" class="masonry-img" onerror="this.src='https://placehold.co/600x400/8016cc/white?text=Infinity+Patio+Door';">
                                <div class="masonry-caption">
                                    <span class="masonry-category">Patio Door</span>
                                    <h4>French Patio Door</h4>
                                    <p>Elegant fiberglass, seamless indoor-outdoor</p>
                                </div>
                            </div>
                            <div class="masonry-item" data-category="infinity" data-index="3">
                                <img src="images/infinity/infinity-custom.jpg" alt="Infinity Custom Window" class="masonry-img" onerror="this.src='https://placehold.co/600x800/8016cc/white?text=Infinity+Custom';">
                                <div class="masonry-caption">
                                    <span class="masonry-category">Infinity</span>
                                    <h4>Custom Shape Window</h4>
                                    <p>Architectural elegance</p>
                                </div>
                            </div>
                            <div class="masonry-item" data-category="infinity patio-door" data-index="4">
                                <img src="images/infinity/infinity-patio-door2.jpg" alt="Infinity Sliding Patio Door" class="masonry-img" onerror="this.src='https://placehold.co/600x450/8016cc/white?text=Infinity+Sliding+Patio';">
                                <div class="masonry-caption">
                                    <span class="masonry-category">Patio Door</span>
                                    <h4>Sliding Patio Door</h4>
                                    <p>Space-saving, smooth operation</p>
                                </div>
                            </div>
                            <div class="masonry-item" data-category="infinity" data-index="5">
                                <img src="images/infinity/infinity-sliding2.jpg" alt="Infinity Sliding Window" class="masonry-img" onerror="this.src='https://placehold.co/600x400/8016cc/white?text=Infinity+Sliding';">
                                <div class="masonry-caption">
                                    <span class="masonry-category">Infinity</span>
                                    <h4>Sliding Window</h4>
                                    <p>Horizontal operation, modern look</p>
                                </div>
                            </div>
                            
                            <!-- PROVIA -->
                            <div class="masonry-item" data-category="provia" data-index="6">
                                <img src="images/provia/provia-double-hung.jpg" alt="ProVia Double Hung Window" class="masonry-img" onerror="this.src='https://placehold.co/600x500/2c3e50/white?text=ProVia+Double+Hung';">
                                <div class="masonry-caption">
                                    <span class="masonry-category">ProVia</span>
                                    <h4>Double Hung Window</h4>
                                    <p>Traditional style, modern efficiency</p>
                                </div>
                            </div>
                            <div class="masonry-item" data-category="provia" data-index="7">
                                <img src="images/provia/provia-casement.jpg" alt="ProVia Casement Window" class="masonry-img" onerror="this.src='https://placehold.co/600x400/2c3e50/white?text=ProVia+Casement';">
                                <div class="masonry-caption">
                                    <span class="masonry-category">ProVia</span>
                                    <h4>Casement Window</h4>
                                    <p>Excellent weather seal</p>
                                </div>
                            </div>
                            <div class="masonry-item" data-category="provia" data-index="8">
                                <img src="images/provia/provia-picture.jpg" alt="ProVia Picture Window" class="masonry-img" onerror="this.src='https://placehold.co/600x300/2c3e50/white?text=ProVia+Picture';">
                                <div class="masonry-caption">
                                    <span class="masonry-category">ProVia</span>
                                    <h4>Picture Window</h4>
                                    <p>Unobstructed views, natural light</p>
                                </div>
                            </div>
                            <div class="masonry-item" data-category="provia patio-door" data-index="9">
                                <img src="images/provia/provia-patio-door.jpg" alt="ProVia Patio Door" class="masonry-img" onerror="this.src='https://placehold.co/600x550/2c3e50/white?text=ProVia+Patio+Door';">
                                <div class="masonry-caption">
                                    <span class="masonry-category">Patio Door</span>
                                    <h4>Sliding Patio Door</h4>
                                    <p>Smooth, durable, energy efficient</p>
                                </div>
                            </div>
                            <div class="masonry-item" data-category="provia" data-index="10">
                                <img src="images/provia/provia-bay.jpg" alt="ProVia Bay Window" class="masonry-img" onerror="this.src='https://placehold.co/600x450/2c3e50/white?text=ProVia+Bay';">
                                <div class="masonry-caption">
                                    <span class="masonry-category">ProVia</span>
                                    <h4>Bay Window</h4>
                                    <p>Adds space and character</p>
                                </div>
                            </div>
                            
                            <!-- COEUR d'ALENE -->
                            <div class="masonry-item" data-category="cda" data-index="11">
                                <img src="images/cda/cda-single-hung.jpg" alt="Coeur d'Alene Single Hung Window" class="masonry-img" onerror="this.src='https://placehold.co/600x550/16a085/white?text=CDA+Single+Hung';">
                                <div class="masonry-caption">
                                    <span class="masonry-category">Coeur d'Alene</span>
                                    <h4>Single Hung Window</h4>
                                    <p>Local craftsmanship, climate-tuned</p>
                                </div>
                            </div>
                            <div class="masonry-item" data-category="cda patio-door" data-index="12">
                                <img src="images/cda/cda-patio-door.jpg" alt="Coeur d'Alene Patio Door" class="masonry-img" onerror="this.src='https://placehold.co/600x400/16a085/white?text=CDA+Patio+Door';">
                                <div class="masonry-caption">
                                    <span class="masonry-category">Patio Door</span>
                                    <h4>Patio Door</h4>
                                    <p>Designed for Inland Northwest</p>
                                </div>
                            </div>
                            <div class="masonry-item" data-category="cda" data-index="13">
                                <img src="images/cda/cda-custom.jpg" alt="Coeur d'Alene Custom Window" class="masonry-img" onerror="this.src='https://placehold.co/600x500/16a085/white?text=CDA+Custom';">
                                <div class="masonry-caption">
                                    <span class="masonry-category">Coeur d'Alene</span>
                                    <h4>Custom Shape Window</h4>
                                    <p>Unique architectural solutions</p>
                                </div>
                            </div>
                            
                            <!-- VPI -->
                            <div class="masonry-item" data-category="vpi" data-index="14">
                                <img src="images/vpi/vpi-double-hung.jpg" alt="VPI Double Hung Window" class="masonry-img" onerror="this.src='https://placehold.co/600x450/8e44ad/white?text=VPI+Double+Hung';">
                                <div class="masonry-caption">
                                    <span class="masonry-category">VPI</span>
                                    <h4>Double Hung Window</h4>
                                    <p>Precision engineering, energy star</p>
                                </div>
                            </div>
                            <div class="masonry-item" data-category="vpi" data-index="15">
                                <img src="images/vpi/vpi-casement.jpg" alt="VPI Casement Window" class="masonry-img" onerror="this.src='https://placehold.co/600x350/8e44ad/white?text=VPI+Casement';">
                                <div class="masonry-caption">
                                    <span class="masonry-category">VPI</span>
                                    <h4>Casement Window</h4>
                                    <p>Advanced locking, tight seal</p>
                                </div>
                            </div>
                            <div class="masonry-item" data-category="vpi" data-index="16">
                                <img src="images/vpi/vpi-sliding.jpg" alt="VPI Sliding Window" class="masonry-img" onerror="this.src='https://placehold.co/600x400/8e44ad/white?text=VPI+Sliding';">
                                <div class="masonry-caption">
                                    <span class="masonry-category">VPI</span>
                                    <h4>Sliding Window</h4>
                                    <p>Smooth operation, low maintenance</p>
                                </div>
                            </div>
                            <div class="masonry-item" data-category="vpi patio-door" data-index="17">
                                <img src="images/vpi/vpi-patio-door.jpg" alt="VPI Patio Door" class="masonry-img" onerror="this.src='https://placehold.co/600x600/8e44ad/white?text=VPI+Patio+Door';">
                                <div class="masonry-caption">
                                    <span class="masonry-category">Patio Door</span>
                                    <h4>Sliding Patio Door</h4>
                                    <p>Durable, secure, beautiful</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- No Results Message -->
                        <div id="noResults" class="no-results" style="display: none;">
                            <i class="fas fa-search"></i>
                            <h3>No Products Found</h3>
                            <p>Try selecting a different filter or view all products.</p>
                        </div>
                        
                        <div class="back-to-products">
                            <a href="contact.html" class="btn btn-primary">
                                <i class="fas fa-calendar-alt"></i> Get a Quote
                            </a>
                        </div>
                    </div>
                    <!-- ===== END UPDATED GALLERY ===== -->
                    
                    <!-- Benefits Section -->
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 30px; margin: 60px 0 40px;">
                        <div style="text-align: center; padding: 25px; background-color: var(--light); border-radius: var(--radius);">
                            <i class="fas fa-bolt" style="font-size: 2.5rem; color: var(--primary); margin-bottom: 15px;"></i>
                            <h4>Energy Savings</h4>
                            <p>Reduce heating and cooling costs by up to 30% with our Energy Star certified windows</p>
                        </div>
                        <div style="text-align: center; padding: 25px; background-color: var(--light); border-radius: var(--radius);">
                            <i class="fas fa-shield-alt" style="font-size: 2.5rem; color: var(--primary); margin-bottom: 15px;"></i>
                            <h4>Enhanced Security</h4>
                            <p>Advanced locking systems and durable materials for maximum protection</p>
                        </div>
                        <div style="text-align: center; padding: 25px; background-color: var(--light); border-radius: var(--radius);">
                            <i class="fas fa-volume-mute" style="font-size: 2.5rem; color: var(--primary); margin-bottom: 15px;"></i>
                            <h4>Noise Reduction</h4>
                            <p>Multi-pane glass and tight seals dramatically reduce outside noise</p>
                        </div>
                        <div style="text-align: center; padding: 25px; background-color: var(--light); border-radius: var(--radius);">
                            <i class="fas fa-home" style="font-size: 2.5rem; color: var(--primary); margin-bottom: 15px;"></i>
                            <h4>Increased Home Value</h4>
                            <p>Premium window replacement can significantly increase your home's resale value</p>
                        </div>
                    </div>
                    
                    <!-- Fiberglass Windows Section -->
                    <div style="background-color: rgba(128, 22, 204, 0.05); padding: 40px; border-radius: var(--radius); margin: 50px 0;">
                        <h3 style="color: var(--primary); text-align: center; margin-bottom: 20px;">Why Choose Fiberglass Windows?</h3>
                        <p style="text-align: center; max-width: 800px; margin: 0 auto 30px;">Fiberglass windows, like those from Infinity by Marvin, offer superior performance for Spokane Valley homes:</p>
                        
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                            <div style="text-align: center; padding: 20px;">
                                <i class="fas fa-expand-arrows-alt" style="font-size: 2.5rem; color: var(--primary); margin-bottom: 15px;"></i>
                                <h5>Strength & Stability</h5>
                                <p>8x stronger than vinyl, won't warp or bend</p>
                            </div>
                            <div style="text-align: center; padding: 20px;">
                                <i class="fas fa-thermometer-half" style="font-size: 2.5rem; color: var(--primary); margin-bottom: 15px;"></i>
                                <h5>Thermal Performance</h5>
                                <p>Superior insulation with low U-factors</p>
                            </div>
                            <div style="text-align: center; padding: 20px;">
                                <i class="fas fa-paint-roller" style="font-size: 2.5rem; color: var(--primary); margin-bottom: 15px;"></i>
                                <h5>Low Maintenance</h5>
                                <p>Durable finish lasts for decades</p>
                            </div>
                            <div style="text-align: center; padding: 20px;">
                                <i class="fas fa-recycle" style="font-size: 2.5rem; color: var(--primary); margin-bottom: 15px;"></i>
                                <h5>Sustainable Choice</h5>
                                <p>Long lifespan reduces environmental impact</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="text-center" style="margin-top: 50px;">
                        <a href="contact.html" class="btn btn-primary btn-large">
                            <i class="fas fa-calendar-alt"></i> Get Your Free Window Quote
                        </a>
                        <p style="margin-top: 20px; color: var(--gray);">
                            <i class="fas fa-phone"></i> Prefer to call? <a href="tel:15098926460" style="color: var(--primary); font-weight: 600;">(509) 892-6460</a>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="process" style="background-color: var(--light); padding: 80px 0;">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Ready for New Windows?</h2>
                <p class="section-subtitle">Contact us today for a free consultation and quote on window or patio door installation from our premium partners</p>
            </div>
            <div class="text-center">
                <a href="contact.html" class="btn btn-primary btn-large">
                    <i class="fas fa-calendar-alt"></i> Schedule Free Consultation
                </a>
                <p style="margin-top: 20px; font-size: 1.1rem;">
                    <i class="fas fa-phone"></i> Call us today: <a href="tel:15098926460" style="color: var(--primary); text-decoration: underline; font-weight: 600;">(509) 892-6460</a>
                </p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <h3>Residential Home Solutions</h3>
                    <p>Providing quality window, door, and siding services to Spokane Valley homeowners since 2006.</p>
                    <div class="social-links">
                        <a href="https://www.facebook.com/residentialhs" target="_blank" rel="noopener" aria-label="Facebook">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="https://www.instagram.com/residentialhomesolutions/" target="_blank" rel="noopener" aria-label="Instagram">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="https://www.google.com/search?sca_esv=c71087e088e9fb30&sxsrf=ANbL-n4V0dmu1vJoSrwRbohTJXzEVzRZyQ:1770792110459&si=AL3DRZHrmvnFAVQPOO2Bzhf8AX9KZZ6raUI_dT7DG_z0kV2_x9sS-Iw2sUGca4Q2PQ9lw8Z2Gk46XRhvVxdDvCXNxC1oUUhWdoBI_4q0QDu7ej402vX_HTQjvLTNzTtt0WXyMjKMNAcuCBZ0B9ALIfxVrOtWEbMuHQ%3D%3D&q=Residential+Home+Solutions+Reviews&sa=X&ved=2ahUKEwim7NvV6tCSAxX2ETQIHRaXHogQ0bkNegQILRAH" target="_blank" rel="noopener" aria-label="Google Reviews">
                            <i class="fab fa-google"></i>
                        </a>
                        <a href="https://x.com/residentialhs" target="_blank" rel="noopener" aria-label="X">
                            <i class="fab fa-x-twitter"></i>
                        </a>
                    </div>
                </div>
                <div class="footer-col">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="promotions.html">Promotions</a></li>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="testimonials.html">Testimonials</a></li>
                        <li><a href="contact.html">Contact</a></li>
                        <li><a href="rebates.html">Rebate Info</a></li>
                        <li><a href="financing.html">Financing Info</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Services</h4>
                    <ul>
                        <li><a href="services.html#windows">Window Replacement</a></li>
                        <li><a href="services.html#doors">Door Installation</a></li>
                        <li><a href="services.html#siding">James Hardie Siding</a></li>
                        <li><a href="services.html">ProVia Products</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Contact Info</h4>
                    <ul class="contact-info-list">
                        <li><i class="fas fa-phone-alt"></i> <a href="tel:15098926460">(509) 892-6460</a></li>
                        <li><i class="fas fa-envelope"></i> <a href="mailto:info@residentialhs.com">info@residentialhs.com</a></li>
                        <li><i class="fas fa-map-marker-alt"></i>523 N Ella Rd, Spokane Valley, WA</li>
                    </ul>
                    <div class="hardie-logo">
                        <div class="hardie-badge-footer">
                            <i class="fas fa-award"></i> Elite Preferred James Hardie Contractor
                        </div>
                    </div>
                    <div class="hardie-logo" style="margin-top: 10px;">
                        <div class="hardie-badge-footer">
                            <i class="fas fa-certificate"></i> EPA Certified Lead-Safe Company
                        </div>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; <span id="currentYear"></span> Residential Home Solutions. All rights reserved. | License #: RHSWA123456</p>
                <p><a href="#">Privacy Policy</a> | <a href="#">Terms of Service</a></p>
            </div>
        </div>
    </footer>

    <!-- Lightbox Modal (exact copy from gallery-infinity) -->
    <div class="lightbox-modal" id="lightboxModal">
        <button class="lightbox-close" id="lightboxClose">
            <i class="fas fa-times"></i>
        </button>
        <div class="lightbox-content">
            <img id="lightboxImage" src="" alt="" class="lightbox-img">
            <div class="lightbox-caption">
                <h3 id="lightboxTitle"></h3>
                <p id="lightboxDescription"></p>
            </div>
        </div>
        <div class="lightbox-nav">
            <button id="lightboxPrev">
                <i class="fas fa-chevron-left"></i>
            </button>
            <button id="lightboxNext">
                <i class="fas fa-chevron-right"></i>
            </button>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="script.js"></script>
    <script>
        // Ensure current year in footer
        document.getElementById('currentYear').textContent = new Date().getFullYear();
        
        // Mobile dropdown functionality
        document.querySelectorAll('.window-type-dropdown').forEach(dropdown => {
            dropdown.addEventListener('click', function(e) {
                if (window.innerWidth <= 768) {
                    const content = this.querySelector('.window-type-content');
                    content.style.display = content.style.display === 'block' ? 'none' : 'block';
                }
            });
        });
        document.querySelectorAll('.learn-more-dropdown').forEach(dropdown => {
            dropdown.addEventListener('click', function(e) {
                if (window.innerWidth <= 768) {
                    const content = this.querySelector('.learn-more-dropdown-content');
                    content.style.display = content.style.display === 'block' ? 'none' : 'block';
                }
            });
        });

        // ===== GALLERY + LIGHTBOX SCRIPT (identical functionality to gallery-infinity.html) =====
        (function() {
            const filterButtons = document.querySelectorAll('.filter-btn');
            const masonryItems = document.querySelectorAll('.masonry-item');
            const noResults = document.getElementById('noResults');
            const lightboxModal = document.getElementById('lightboxModal');
            const lightboxImage = document.getElementById('lightboxImage');
            const lightboxTitle = document.getElementById('lightboxTitle');
            const lightboxDescription = document.getElementById('lightboxDescription');
            const lightboxClose = document.getElementById('lightboxClose');
            const lightboxPrev = document.getElementById('lightboxPrev');
            const lightboxNext = document.getElementById('lightboxNext');

            let currentImageIndex = 0;
            let filteredItems = Array.from(masonryItems);

            // FILTER
            filterButtons.forEach(button => {
                button.addEventListener('click', function() {
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');

                    const filterValue = this.getAttribute('data-filter');
                    let visibleCount = 0;

                    masonryItems.forEach(item => {
                        const category = item.getAttribute('data-category');
                        if (filterValue === 'all' || category.includes(filterValue)) {
                            item.style.display = 'block';
                            visibleCount++;
                        } else {
                            item.style.display = 'none';
                        }
                    });

                    // Update filteredItems for lightbox navigation
                    if (filterValue === 'all') {
                        filteredItems = Array.from(masonryItems).filter(item => item.style.display !== 'none');
                    } else {
                        filteredItems = Array.from(masonryItems).filter(item => 
                            item.style.display !== 'none' && item.getAttribute('data-category').includes(filterValue)
                        );
                    }

                    noResults.style.display = visibleCount === 0 ? 'block' : 'none';
                });
            });

            // LIGHTBOX OPEN
            masonryItems.forEach((item, idx) => {
                item.addEventListener('click', function() {
                    const img = this.querySelector('.masonry-img');
                    const categoryEl = this.querySelector('.masonry-category');
                    const titleEl = this.querySelector('h4');
                    const descEl = this.querySelector('p');

                    currentImageIndex = parseInt(this.getAttribute('data-index'));
                    updateLightbox(
                        img.src, 
                        categoryEl ? categoryEl.textContent : '', 
                        titleEl ? titleEl.textContent : '', 
                        descEl ? descEl.textContent : ''
                    );
                    lightboxModal.classList.add('active');
                    document.body.style.overflow = 'hidden';

                    // Update filteredItems based on active filter
                    const activeFilter = document.querySelector('.filter-btn.active').getAttribute('data-filter');
                    if (activeFilter === 'all') {
                        filteredItems = Array.from(masonryItems).filter(item => item.style.display !== 'none');
                    } else {
                        filteredItems = Array.from(masonryItems).filter(item => 
                            item.style.display !== 'none' && item.getAttribute('data-category').includes(activeFilter)
                        );
                    }
                });
            });

            // CLOSE
            lightboxClose.addEventListener('click', closeLightbox);
            lightboxModal.addEventListener('click', function(e) {
                if (e.target === lightboxModal) closeLightbox();
            });
            document.addEventListener('keydown', function(e) {
                if (lightboxModal.classList.contains('active')) {
                    if (e.key === 'Escape') closeLightbox();
                    if (e.key === 'ArrowLeft') navigateLightbox(-1);
                    if (e.key === 'ArrowRight') navigateLightbox(1);
                }
            });

            lightboxPrev.addEventListener('click', () => navigateLightbox(-1));
            lightboxNext.addEventListener('click', () => navigateLightbox(1));

            function closeLightbox() {
                lightboxModal.classList.remove('active');
                document.body.style.overflow = 'auto';
            }

            function updateLightbox(src, category, title, description) {
                lightboxImage.src = src;
                lightboxImage.alt = title;
                lightboxTitle.textContent = title;
                lightboxDescription.textContent = `${category} â€“ ${description}`;
            }

            function navigateLightbox(direction) {
                // find current in filteredItems by data-index
                const currentItem = Array.from(masonryItems).find(item => parseInt(item.dataset.index) === currentImageIndex);
                let currentFilteredIndex = filteredItems.findIndex(item => 
                    parseInt(item.dataset.index) === parseInt(currentItem.dataset.index)
                );
                let newIndex = (currentFilteredIndex + direction + filteredItems.length) % filteredItems.length;
                let newItem = filteredItems[newIndex];
                let newImageIndex = parseInt(newItem.dataset.index);

                const img = newItem.querySelector('.masonry-img');
                const category = newItem.querySelector('.masonry-category');
                const title = newItem.querySelector('h4');
                const description = newItem.querySelector('p');

                currentImageIndex = newImageIndex;
                updateLightbox(img.src, category.textContent, title.textContent, description.textContent);
            }

            // initial filteredItems = all visible
            filteredItems = Array.from(masonryItems);
        })();
    </script>
</body>
</html>
