<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ProVia Windows Gallery | Residential Home Solutions">
    <title>ProVia Gallery | Residential Home Solutions</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Merriweather:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" type="image/x-icon" href="images/favicon.ico">
    <style>
        /* Gallery Template Styles */
        .gallery-hero {
            background-color: var(--light);
            padding: 120px 0 60px;
            text-align: center;
        }
        
        .brand-logo-header {
            max-width: 300px;
            height: auto;
            margin: 0 auto 30px;
            display: block;
        }
        
        .gallery-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Brand Details Section with Side-by-Side Layout */
        .brand-details-section {
            padding: 80px 0;
        }
        
        .brand-details-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 60px;
            align-items: center;
            margin-bottom: 60px;
        }
        
        .brand-image-container {
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--shadow-hover);
        }
        
        .brand-image {
            width: 100%;
            height: 400px;
            background-color: var(--light-gray);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--gray);
        }
        
        .brand-image i {
            font-size: 4rem;
        }
        
        .brand-content h2 {
            color: var(--primary);
            margin-bottom: 20px;
            font-size: 2.2rem;
        }
        
        .brand-features {
            margin: 30px 0;
        }
        
        .brand-feature-item {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .brand-feature-icon {
            width: 50px;
            height: 50px;
            background-color: rgba(0, 51, 102, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-size: 1.2rem;
            flex-shrink: 0;
        }
        
        /* Masonry Gallery Section */
        .masonry-gallery-section {
            padding: 60px 0 80px;
            background-color: var(--off-white);
        }
        
        .gallery-header {
            text-align: center;
            margin-bottom: 50px;
        }
        
        .gallery-header h2 {
            color: var(--primary);
            margin-bottom: 15px;
        }
        
        .gallery-filters {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 40px;
        }
        
        .filter-btn {
            padding: 10px 20px;
            background-color: var(--white);
            border: 2px solid var(--light-gray);
            border-radius: 30px;
            font-weight: 600;
            color: var(--dark);
            cursor: pointer;
            transition: var(--transition);
        }
        
        .filter-btn:hover,
        .filter-btn.active {
            background-color: var(--primary);
            color: var(--white);
            border-color: var(--primary);
        }
        
        /* Masonry Grid Layout */
        .masonry-grid {
            columns: 4 300px;
            column-gap: 20px;
        }
        
        .masonry-item {
            break-inside: avoid;
            margin-bottom: 20px;
            position: relative;
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            background-color: var(--white);
            cursor: pointer;
        }
        
        .masonry-item:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
        }
        
        .masonry-img {
            width: 100%;
            height: auto;
            display: block;
            transition: transform 0.5s ease;
        }
        
        .masonry-item:hover .masonry-img {
            transform: scale(1.03);
        }
        
        .masonry-caption {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
            color: var(--white);
            padding: 20px;
            transform: translateY(100%);
            transition: transform 0.3s ease;
        }
        
        .masonry-item:hover .masonry-caption {
            transform: translateY(0);
        }
        
        .masonry-caption h4 {
            color: var(--white);
            margin-bottom: 5px;
            font-size: 1.2rem;
        }
        
        .masonry-category {
            display: inline-block;
            background-color: var(--secondary);
            color: var(--white);
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-bottom: 10px;
        }
        
        /* Lightbox Modal */
        .lightbox-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }
        
        .lightbox-modal.active {
            display: flex;
        }
        
        .lightbox-content {
            max-width: 90%;
            max-height: 90%;
            position: relative;
        }
        
        .lightbox-img {
            max-width: 100%;
            max-height: 90vh;
            object-fit: contain;
            border-radius: var(--radius);
        }
        
        .lightbox-caption {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.7);
            color: var(--white);
            padding: 20px;
            text-align: center;
        }
        
        .lightbox-close {
            position: absolute;
            top: -40px;
            right: 0;
            background: none;
            border: none;
            color: var(--white);
            font-size: 2rem;
            cursor: pointer;
        }
        
        .lightbox-nav {
            position: absolute;
            top: 50%;
            width: 100%;
            display: flex;
            justify-content: space-between;
            padding: 0 20px;
            transform: translateY(-50%);
        }
        
        .lightbox-nav button {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: var(--white);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.5rem;
            transition: var(--transition);
        }
        
        .lightbox-nav button:hover {
            background: var(--secondary);
        }
        
        .no-results {
            text-align: center;
            padding: 60px 20px;
            background-color: var(--white);
            border-radius: var(--radius);
            border: 2px dashed var(--light-gray);
            grid-column: 1 / -1;
        }
        
        .no-results i {
            font-size: 3rem;
            color: var(--light-gray);
            margin-bottom: 20px;
        }
        
        .back-to-products {
            text-align: center;
            margin: 50px 0 20px;
        }
        
        /* Responsive Styles */
        @media (max-width: 1200px) {
            .masonry-grid {
                columns: 3 280px;
            }
        }
        
        @media (max-width: 992px) {
            .brand-details-grid {
                grid-template-columns: 1fr;
                gap: 40px;
            }
            
            .brand-image {
                height: 350px;
            }
            
            .masonry-grid {
                columns: 2 300px;
            }
        }
        
        @media (max-width: 768px) {
            .masonry-grid {
                columns: 1 400px;
            }
            
            .brand-logo-header {
                max-width: 250px;
            }
            
            .gallery-hero {
                padding: 100px 0 40px;
            }
            
            .brand-details-section,
            .masonry-gallery-section {
                padding: 60px 0;
            }
            
            .gallery-filters {
                justify-content: flex-start;
                overflow-x: auto;
                padding-bottom: 10px;
            }
            
            .filter-btn {
                white-space: nowrap;
                padding: 8px 16px;
                font-size: 0.9rem;
            }
        }
        
        @media (max-width: 576px) {
            .masonry-grid {
                columns: 1;
            }
            
            .brand-image {
                height: 250px;
            }
            
            .lightbox-nav button {
                width: 40px;
                height: 40px;
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header & Navigation -->
    <header class="header">
        <div class="container">
            <nav class="navbar">
                <a href="index.html" class="logo">
                    <img src="images/logo.png" alt="Residential Home Solutions Logo" width="320" height="90">
                </a>
                <button class="menu-toggle" id="menuToggle" aria-label="Toggle navigation menu">
                    <i class="fas fa-bars"></i>
                </button>
                <ul class="nav-menu" id="navMenu">
                    <li><a href="index.html">Home</a></li>
                    <li class="dropdown">
                        <a href="#services" class="dropdown-toggle">
                            Services <i class="fas fa-chevron-down"></i>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a href="windows-patio-doors.html">Windows & Patio Doors</a></li>
                            <li><a href="entry-storm-doors.html">Entry & Storm Doors</a></li>
                            <li><a href="siding.html">Siding</a></li>
                        </ul>
                    </li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="testimonials.html">Testimonials</a></li>
                    <li><a href="contact.html" class="nav-cta">Free Quote</a></li>
                </ul>
                <div class="hardie-header-logo">
                    <img src="images/infinitylogo.png" alt="Infinity by Marvin Contractor" class="partner-logo-img">
                </div>
            </nav>
        </div>
    </header>

    <!-- Gallery Hero Section -->
    <section class="gallery-hero">
        <div class="container">
            <img src="images/provialogo.png" alt="ProVia Logo" class="brand-logo-header">
            <h1 class="section-title">ProVia Gallery</h1>
            <p class="section-subtitle">Experience local craftsmanship with windows built for the Inland Northwest climate</p>
        </div>
    </section>

    <!-- Brand Details Section -->
    <section class="brand-details-section">
        <div class="gallery-container">
            <div class="brand-details-grid">
                <div class="brand-image-container">
                    <div class="brand-image">
                        <!-- Replace with actual brand/product image -->
                        <img src="images/windows/provia-showcase.jpg" alt="ProVia Showcase" style="width: 100%; height: 100%; object-fit: cover;">
                    </div>
                </div>
                <div class="brand-content">
                    <h2>Local Manufacturing Excellence</h2>
                    <p>ProVia Company represents the best of Pacific Northwest craftsmanship. Their windows are specifically designed for our regional climate and built to withstand the unique weather challenges of Eastern Washington and Northern Idaho.</p>
                    
                    <div class="brand-features">
                        <div class="brand-feature-item">
                            <div class="brand-feature-icon">
                                <i class="fas fa-home"></i>
                            </div>
                            <div>
                                <h4>Local Manufacturing</h4>
                                <p>Proudly manufactured in the Pacific Northwest with materials sourced for regional climate conditions.</p>
                            </div>
                        </div>
                        <div class="brand-feature-item">
                            <div class="brand-feature-icon">
                                <i class="fas fa-cloud-sun"></i>
                            </div>
                            <div>
                                <h4>Climate-Specific Design</h4>
                                <p>Engineered specifically for Spokane Valley's temperature extremes and weather patterns.</p>
                            </div>
                        </div>
                        <div class="brand-feature-item">
                            <div class="brand-feature-icon">
                                <i class="fas fa-truck"></i>
                            </div>
                            <div>
                                <h4>Quick Local Delivery</h4>
                                <p>Faster turnaround times with local manufacturing and direct shipping to your home.</p>
                            </div>
                        </div>
                        <div class="brand-feature-item">
                            <div class="brand-feature-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <div>
                                <h4>Local Support Team</h4>
                                <p>Direct access to customer service and technical support from our regional partners.</p>
                            </div>
                        </div>
                    </div>
                    
                    <a href="https://www.coeurdalenewindow.com/" target="_blank" class="btn btn-primary">
                        <i class="fas fa-external-link-alt"></i> Visit ProVia Website
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Masonry Gallery Section -->
    <section class="masonry-gallery-section">
        <div class="gallery-container">
            <div class="gallery-header">
                <h2>Explore Our ProVia Collection</h2>
                <p class="section-subtitle">Click on any image to view it larger. Filter by window type to find the perfect solution for your home.</p>
            </div>
            
            <div class="gallery-filters">
                <button class="filter-btn active" data-filter="all">All Products</button>
                <button class="filter-btn" data-filter="double-hung">Double-Hung</button>
                <button class="filter-btn" data-filter="casement">Casement</button>
                <button class="filter-btn" data-filter="sliding">Sliding</button>
                <button class="filter-btn" data-filter="picture">Picture Windows</button>
                <button class="filter-btn" data-filter="patio-doors">Patio Doors</button>
                <button class="filter-btn" data-filter="bay-bow">Bay & Bow</button>
                <button class="filter-btn" data-filter="custom">Custom Shapes</button>
            </div>
            
            <div class="masonry-grid" id="masonryGrid">
                <!-- Double-Hung Window -->
                <div class="masonry-item" data-category="double-hung" data-index="0">
                    <img src="images/windows/provia-double-hung.jpg" alt="Coeur d'Alene Double-Hung Window" class="masonry-img">
                    <div class="masonry-caption">
                        <span class="masonry-category">Double-Hung</span>
                        <h4>Classic Double-Hung Window</h4>
                        <p>Timeless design with both sashes operable for excellent ventilation</p>
                    </div>
                </div>
                
                <!-- Casement Window -->
                <div class="masonry-item" data-category="casement" data-index="1">
                    <img src="images/windows/provia-casement.jpg" alt="Coeur d'Alene Casement Window" class="masonry-img">
                    <div class="masonry-caption">
                        <span class="masonry-category">Casement</span>
                        <h4>Premium Casement Window</h4>
                        <p>Side-hinged windows that crank open for maximum ventilation</p>
                    </div>
                </div>
                
                <!-- Sliding Window -->
                <div class="masonry-item" data-category="sliding" data-index="2">
                    <img src="images/windows/provia-sliding.jpg" alt="Coeur d'Alene Sliding Window" class="masonry-img">
                    <div class="masonry-caption">
                        <span class="masonry-category">Sliding</span>
                        <h4>Modern Sliding Window</h4>
                        <p>Horizontal sliding operation perfect for contemporary homes</p>
                    </div>
                </div>
                
                <!-- Picture Window -->
                <div class="masonry-item" data-category="picture" data-index="3">
                    <img src="images/windows/provia-picture.jpg" alt="Coeur d'Alene Picture Window" class="masonry-img">
                    <div class="masonry-caption">
                        <span class="masonry-category">Picture Window</span>
                        <h4>Large Picture Window</h4>
                        <p>Fixed windows for unobstructed views and maximum natural light</p>
                    </div>
                </div>
                
                <!-- Patio Door -->
                <div class="masonry-item" data-category="patio-doors" data-index="4">
                    <img src="images/doors/provia-patio-door.jpg" alt="Coeur d'Alene Patio Door" class="masonry-img">
                    <div class="masonry-caption">
                        <span class="masonry-category">Patio Door</span>
                        <h4>French Style Patio Door</h4>
                        <p>Elegant hinged patio doors for seamless indoor-outdoor living</p>
                    </div>
                </div>
                
                <!-- Bay Window -->
                <div class="masonry-item" data-category="bay-bow" data-index="5">
                    <img src="images/windows/provia-bay-window.jpg" alt="Coeur d'Alene Bay Window" class="masonry-img">
                    <div class="masonry-caption">
                        <span class="masonry-category">Bay Window</span>
                        <h4>Elegant Bay Window</h4>
                        <p>Create additional space and architectural interest</p>
                    </div>
                </div>
                
                <!-- Custom Window -->
                <div class="masonry-item" data-category="custom" data-index="6">
                    <img src="images/windows/provia-custom.jpg" alt="Coeur d'Alene Custom Window" class="masonry-img">
                    <div class="masonry-caption">
                        <span class="masonry-category">Custom Shape</span>
                        <h4>Custom Architectural Window</h4>
                        <p>Uniquely shaped windows for specific architectural requirements</p>
                    </div>
                </div>
                
                <!-- Energy Efficient Window -->
                <div class="masonry-item" data-category="all" data-index="7">
                    <img src="images/windows/provia-energy.jpg" alt="Coeur d'Alene Energy Efficient Window" class="masonry-img">
                    <div class="masonry-caption">
                        <span class="masonry-category">Energy Star</span>
                        <h4>High Performance Window</h4>
                        <p>Advanced technology with superior insulation and energy savings</p>
                    </div>
                </div>
                
                <!-- Additional Images for Variety -->
                <div class="masonry-item" data-category="double-hung" data-index="8">
                    <img src="images/windows/provia-double-hung2.jpg" alt="Coeur d'Alene Double-Hung Window 2" class="masonry-img">
                    <div class="masonry-caption">
                        <span class="masonry-category">Double-Hung</span>
                        <h4>Traditional Double-Hung</h4>
                        <p>Energy-efficient design with classic appearance</p>
                    </div>
                </div>
                
                <div class="masonry-item" data-category="casement" data-index="9">
                    <img src="images/windows/provia-casement2.jpg" alt="Coeur d'Alene Casement Window 2" class="masonry-img">
                    <div class="masonry-caption">
                        <span class="masonry-category">Casement</span>
                        <h4>Contemporary Casement</h4>
                        <p>Modern design with excellent weather sealing</p>
                    </div>
                </div>
                
                <div class="masonry-item" data-category="sliding" data-index="10">
                    <img src="images/windows/provia-sliding2.jpg" alt="Coeur d'Alene Sliding Window 2" class="masonry-img">
                    <div class="masonry-caption">
                        <span class="masonry-category">Sliding</span>
                        <h4>Wide Sliding Window</h4>
                        <p>Perfect for panoramic views and modern homes</p>
                    </div>
                </div>
                
                <div class="masonry-item" data-category="patio-doors" data-index="11">
                    <img src="images/doors/provia-patio-door2.jpg" alt="Coeur d'Alene Patio Door 2" class="masonry-img">
                    <div class="masonry-caption">
                        <span class="masonry-category">Patio Door</span>
                        <h4>Sliding Patio Door</h4>
                        <p>Space-saving design with smooth operation</p>
                    </div>
                </div>
            </div>
            
            <div id="noResults" class="no-results" style="display: none;">
                <i class="fas fa-search"></i>
                <h3>No Products Found</h3>
                <p>Try selecting a different filter or view all products.</p>
            </div>
            
            <div class="back-to-products">
                <a href="windows-patio-doors.html" class="btn btn-secondary">
                    <i class="fas fa-arrow-left"></i> Back to All Window Brands
                </a>
                <a href="contact.html" class="btn btn-primary" style="margin-left: 15px;">
                    <i class="fas fa-calendar-alt"></i> Get a Quote
                </a>
            </div>
        </div>
    </section>

    <!-- Lightbox Modal -->
    <div class="lightbox-modal" id="lightboxModal">
        <button class="lightbox-close" id="lightboxClose">
            <i class="fas fa-times"></i>
        </button>
        <div class="lightbox-content">
            <img id="lightboxImage" src="" alt="" class="lightbox-img">
            <div class="lightbox-caption">
                <h3 id="lightboxTitle"></h3>
                <p id="lightboxDescription"></p>
            </div>
        </div>
        <div class="lightbox-nav">
            <button id="lightboxPrev">
                <i class="fas fa-chevron-left"></i>
            </button>
            <button id="lightboxNext">
                <i class="fas fa-chevron-right"></i>
            </button>
        </div>
    </div>

   <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <h3>Residential Home Solutions</h3>
                    <p>Providing quality window, door, and siding services to Spokane Valley homeowners since 2006.</p>
                    <div class="social-links">
                        <a href="https://www.facebook.com/residentialhs" target="_blank" rel="noopener" aria-label="Facebook">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="https://www.instagram.com/residentialhomesolutions/" target="_blank" rel="noopener" aria-label="Instagram">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="https://www.google.com/search?sca_esv=c71087e088e9fb30&sxsrf=ANbL-n4V0dmu1vJoSrwRbohTJXzEVzRZyQ:1770792110459&si=AL3DRZHrmvnFAVQPOO2Bzhf8AX9KZZ6raUI_dT7DG_z0kV2_x9sS-Iw2sUGca4Q2PQ9lw8Z2Gk46XRhvVxdDvCXNxC1oUUhWdoBI_4q0QDu7ej402vX_HTQjvLTNzTtt0WXyMjKMNAcuCBZ0B9ALIfxVrOtWEbMuHQ%3D%3D&q=Residential+Home+Solutions+Reviews&sa=X&ved=2ahUKEwim7NvV6tCSAxX2ETQIHRaXHogQ0bkNegQILRAH" target="_blank" rel="noopener" aria-label="Google Reviews">
                            <i class="fab fa-google"></i>
                        </a>
                        <a href="https://x.com/residentialhs" target="_blank" rel="noopener" aria-label="X">
                            <i class="fab fa-x-twitter"></i>
                        </a>
                    </div>
                </div>
                <div class="footer-col">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="services.html">Services</a></li>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="testimonials.html">Testimonials</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Services</h4>
                    <ul>
                        <li><a href="services.html#windows">Window Replacement</a></li>
                        <li><a href="services.html#doors">Door Installation</a></li>
                        <li><a href="services.html#siding">James Hardie Siding</a></li>
                        <li><a href="services.html">ProVia Products</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Contact Info</h4>
                    <ul class="contact-info-list">
                        <li><i class="fas fa-phone-alt"></i> <a href="tel:15098926460">(509) 892-6460</a></li>
                        <li><i class="fas fa-envelope"></i> <a href="mailto:info@residentialhs.com">info@residentialhs.com</a></li>
                        <li><i class="fas fa-map-marker-alt"></i>523 N Ella Rd, Spokane Valley, WA</li>
                    </ul>
                    <div class="hardie-logo">
                        <div class="hardie-badge-footer">
                            <i class="fas fa-award"></i> Elite Preferred James Hardie Contractor
                        </div>
                    </div>
                    <div class="hardie-logo" style="margin-top: 10px;">
                        <div class="hardie-badge-footer">
                            <i class="fas fa-certificate"></i> EPA Certified Lead-Safe Company
                        </div>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; <span id="currentYear"></span> Residential Home Solutions. All rights reserved. | License #: RHSWA123456</p>
                <p><a href="#">Privacy Policy</a> | <a href="#">Terms of Service</a></p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="script.js"></script>
    <script>
        // Gallery Template JavaScript
        document.addEventListener('DOMContentLoaded', function() {
            // Filter functionality
            const filterButtons = document.querySelectorAll('.filter-btn');
            const masonryItems = document.querySelectorAll('.masonry-item');
            const noResults = document.getElementById('noResults');
            
            filterButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // Remove active class from all buttons
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    
                    // Add active class to clicked button
                    this.classList.add('active');
                    
                    const filterValue = this.getAttribute('data-filter');
                    let visibleCount = 0;
                    
                    // Filter masonry items
                    masonryItems.forEach(item => {
                        const category = item.getAttribute('data-category');
                        
                        if (filterValue === 'all' || category === filterValue) {
                            item.style.display = 'block';
                            visibleCount++;
                        } else {
                            item.style.display = 'none';
                        }
                    });
                    
                    // Show/hide no results message
                    if (visibleCount === 0) {
                        noResults.style.display = 'block';
                    } else {
                        noResults.style.display = 'none';
                    }
                });
            });
            
            // Lightbox functionality
            const lightboxModal = document.getElementById('lightboxModal');
            const lightboxImage = document.getElementById('lightboxImage');
            const lightboxTitle = document.getElementById('lightboxTitle');
            const lightboxDescription = document.getElementById('lightboxDescription');
            const lightboxClose = document.getElementById('lightboxClose');
            const lightboxPrev = document.getElementById('lightboxPrev');
            const lightboxNext = document.getElementById('lightboxNext');
            
            let currentImageIndex = 0;
            let filteredItems = Array.from(masonryItems);
            
            // Open lightbox when clicking on masonry item
            masonryItems.forEach((item, index) => {
                item.addEventListener('click', function() {
                    const img = this.querySelector('.masonry-img');
                    const category = this.querySelector('.masonry-category');
                    const title = this.querySelector('h4');
                    const description = this.querySelector('p');
                    
                    currentImageIndex = parseInt(this.getAttribute('data-index'));
                    updateLightbox(img.src, category.textContent, title.textContent, description.textContent);
                    lightboxModal.classList.add('active');
                    document.body.style.overflow = 'hidden';
                    
                    // Update filtered items based on current filter
                    const activeFilter = document.querySelector('.filter-btn.active').getAttribute('data-filter');
                    if (activeFilter === 'all') {
                        filteredItems = Array.from(masonryItems).filter(item => item.style.display !== 'none');
                    } else {
                        filteredItems = Array.from(masonryItems).filter(item => 
                            item.style.display !== 'none' && item.getAttribute('data-category') === activeFilter
                        );
                    }
                });
            });
            
            // Close lightbox
            lightboxClose.addEventListener('click', function() {
                lightboxModal.classList.remove('active');
                document.body.style.overflow = 'auto';
            });
            
            // Close lightbox when clicking outside the image
            lightboxModal.addEventListener('click', function(e) {
                if (e.target === lightboxModal) {
                    lightboxModal.classList.remove('active');
                    document.body.style.overflow = 'auto';
                }
            });
            
            // Keyboard navigation
            document.addEventListener('keydown', function(e) {
                if (lightboxModal.classList.contains('active')) {
                    if (e.key === 'Escape') {
                        lightboxModal.classList.remove('active');
                        document.body.style.overflow = 'auto';
                    } else if (e.key === 'ArrowLeft') {
                        navigateLightbox(-1);
                    } else if (e.key === 'ArrowRight') {
                        navigateLightbox(1);
                    }
                }
            });
            
            // Lightbox navigation
            lightboxPrev.addEventListener('click', function() {
                navigateLightbox(-1);
            });
            
            lightboxNext.addEventListener('click', function() {
                navigateLightbox(1);
            });
            
            function updateLightbox(src, category, title, description) {
                lightboxImage.src = src;
                lightboxImage.alt = title;
                lightboxTitle.textContent = title;
                lightboxDescription.textContent = `${category} - ${description}`;
            }
            
            function navigateLightbox(direction) {
                // Find current index in filtered items
                const currentItem = masonryItems[currentImageIndex];
                let currentFilteredIndex = filteredItems.findIndex(item => 
                    item.getAttribute('data-index') === currentItem.getAttribute('data-index')
                );
                
                // Calculate new index
                let newIndex = (currentFilteredIndex + direction + filteredItems.length) % filteredItems.length;
                
                // Get new item
                const newItem = filteredItems[newIndex];
                const newImageIndex = parseInt(newItem.getAttribute('data-index'));
                const img = newItem.querySelector('.masonry-img');
                const category = newItem.querySelector('.masonry-category');
                const title = newItem.querySelector('h4');
                const description = newItem.querySelector('p');
                
                // Update lightbox
                currentImageIndex = newImageIndex;
                updateLightbox(img.src, category.textContent, title.textContent, description.textContent);
            }
            
            // Set current year in footer
            document.getElementById('currentYear').textContent = new Date().getFullYear();
        });
    </script>
</body>
</html>
